
<!DOCTYPE html>
<html>
<head>
  <title>PicVoice Prototype</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="main-flex">
    <div class="left-panel">
      <h1 class="app-title">PicVoice</h1>
      <div id="helpModal" class="modal" style="display:none;">
        <div class="modal-content">
          <span class="close" id="closeHelp">Ã—</span>
          <button class="modal-close-btn" id="modalCloseBtn">Close</button>
          <h2>How to Use PicVoice</h2>
          <ul style="text-align:left; font-size:1.1rem;">
            <li>Select a folder of images using the file picker.</li>
            <li>Navigate images with the Previous/Next buttons or arrow keys.</li>
            <li>Press <b>Record</b> (or Spacebar) to record your voice annotation.</li>
            <li>Press <b>Stop</b> (or Q) to finish and save the annotation.</li>
            <li>Download your audio and annotated image from the Output Preview.</li>
          </ul>
          <p style="font-size:1.1rem;">All controls are accessible by keyboard. For help, click this button any time.</p>
        </div>
      </div>
      <div class="step">
        <button id="selectImageBtn" class="select-image-btn" type="button">1. Select folder</button>
      </div>
      <button id="helpBtn" class="help-btn" title="Show instructions">?</button>
      <!-- <div class="instructions">Use the buttons below or keyboard shortcuts: Spacebar to start recording, Q to stop, arrows to navigate.</div> -->
      <input type="file" id="imageInput" accept="image/*" webkitdirectory directory multiple style="display:none;">
      <div class="nav-buttons">
        <button id="prevBtn" title="Previous image (Left Arrow)">Previous<br><span class="nav-icon">&#x25C0;</span></button>
        <button id="nextBtn" title="Next image (Right Arrow)">Next<br><span class="nav-icon">&#x25B6;</span></button>
      </div>
      <div id="imageFilename" class="image-filename"></div>
      <p id="timer">00:00 / 05:00</p>
      <audio id="audioPlayback" controls style="display:none;"></audio>
      <div class="step">2. Output Preview</div>
      <p id="status"></p>
      <div id="outputPreview"></div>
    </div>
    <div class="right-panel">
      <div class="nav-buttons">
        <button id="startRecordBtn" title="Start recording (Spacebar)">Record <span style="font-size:1.5rem; color:red;">&#9679;</span></button>
        <button id="stopRecordBtn" title="Stop recording (Q)">Stop <span style="font-size:1.5rem; color:black;">&#9632;</span></button>
      </div>
      <div id="imagePreview"></div>
      <div class="image-description">
        <p>Description: your name? who is in the picture? how are they related? what is the picture about? when was picture taken? where was it taken?</p>
      </div>
    </div>
  </div>
  <script src="script.js"></script>
</body>
</html>
